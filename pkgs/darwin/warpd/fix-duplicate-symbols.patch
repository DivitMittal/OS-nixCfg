diff --git a/src/platform/macos/macos.h b/src/platform/macos/macos.h
index 1234567..abcdefg 100644
--- a/src/platform/macos/macos.h
+++ b/src/platform/macos/macos.h
@@ -38,7 +38,7 @@ struct box {
 	NSColor *color;
 };

-size_t nr_boxes;
+extern size_t nr_boxes;

 struct drawing_hook {
 	void (*hook)(void *arg, NSView *view);
diff --git a/src/platform/macos/screen.m b/src/platform/macos/screen.m
index 1234567..abcdefg 100644
--- a/src/platform/macos/screen.m
+++ b/src/platform/macos/screen.m
@@ -2,6 +2,7 @@

 struct screen screens[32];
 size_t nr_screens;
+size_t nr_boxes;

 static void draw_hook(void *arg, NSView *view)
 {
diff --git a/mk/macos.mk b/mk/macos.mk
index 1234567..abcdefg 100644
--- a/mk/macos.mk
+++ b/mk/macos.mk
@@ -9,7 +9,6 @@ RELFLAGS=-Wl,-adhoc_codesign -framework cocoa -framework carbon
 all: $(OBJECTS)
 	-mkdir bin
 	$(CC) -o bin/warpd $(OBJECTS) -framework cocoa -framework carbon
-	./codesign/sign.sh
